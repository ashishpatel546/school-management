(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[305],{2393:(e,s,a)=>{Promise.resolve().then(a.bind(a,9594))},6046:(e,s,a)=>{"use strict";var t=a(6658);a.o(t,"usePathname")&&a.d(s,{usePathname:function(){return t.usePathname}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}})},9594:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5155),r=a(2115),n=a(6046);function u(e){let{children:s}=e,a=(0,n.useRouter)(),u=(0,n.usePathname)();return(0,r.useEffect)(()=>{var e;let s=localStorage.getItem("token"),t=localStorage.getItem("user");if(!s||!t){a.push("/login");return}let r=JSON.parse(t);if(r.isFirstLogin&&"/change-password"!==u){a.push("/change-password");return}let n=r.role;if(!(null===(e=({admin:["admin","super_admin"],teacher:["teacher"],student:["student"],parent:["parent"]})[u.split("/")[1]])||void 0===e?void 0:e.includes(n)))switch(n){case"super_admin":case"admin":a.push("/admin");break;case"teacher":a.push("/teacher");break;case"student":a.push("/student");break;case"parent":a.push("/parent");break;default:a.push("/login")}},[u,a]),(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("main",{className:"flex-1 p-6",children:s})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,517,358],()=>s(2393)),_N_E=e.O()}]);