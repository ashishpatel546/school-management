(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{8570:(e,t,s)=>{Promise.resolve().then(s.bind(s,6381))},6381:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(5155),r=s(2115),n=s(9749),c=s(8002),d=s(1567);function l(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)([]),[i,o]=(0,r.useState)([]),[u,m]=(0,r.useState)([]),[x,p]=(0,r.useState)(""),[h,f]=(0,r.useState)(!0);return((0,r.useEffect)(()=>{(async()=>{try{let e=localStorage.getItem("token");if(!e)return;let s=JSON.parse(localStorage.getItem("user")||"{}").id,a=await fetch("".concat("https://school-management-app-tunnel-voon0qqt.devinapps.com","/attendance/student/").concat(s),{headers:{Authorization:"Bearer ".concat(e)}}),r=await a.json();t(r);let n=await fetch("".concat("https://school-management-app-tunnel-voon0qqt.devinapps.com","/exams"),{headers:{Authorization:"Bearer ".concat(e)}}),c=await n.json();l(c);let d=await fetch("".concat("https://school-management-app-tunnel-voon0qqt.devinapps.com","/fees/student/").concat(s),{headers:{Authorization:"Bearer ".concat(e)}}),i=await d.json();o(i);let u=await fetch("".concat("https://school-management-app-tunnel-voon0qqt.devinapps.com","/extra-curriculum"),{headers:{Authorization:"Bearer ".concat(e)}}),x=await u.json();m(x)}catch(e){p(e instanceof Error?e.message:"Failed to fetch data")}finally{f(!1)}})()},[]),h)?(0,a.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:"Loading..."}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h1",{className:"text-3xl font-bold",children:"Student Dashboard"})}),x&&(0,a.jsx)(c.Fc,{variant:"destructive",children:(0,a.jsx)(c.TN,{children:x})}),(0,a.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Attendance Overview"}),(0,a.jsx)(n.BT,{children:"Your recent attendance records"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:e.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 border rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:new Date(e.date).toLocaleDateString()}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Grade ",e.class.grade," - ",e.class.section]})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat(e.present?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.present?"Present":"Absent"})]},e.id))})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Upcoming Exams"}),(0,a.jsx)(n.BT,{children:"Your scheduled examinations"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,a.jsxs)("div",{className:"p-2 border rounded space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-sm",children:new Date(e.date).toLocaleDateString()})]}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Subject: ",e.subject.name," (",e.subject.code,")"]})]},e.id))})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Fee Status"}),(0,a.jsx)(n.BT,{children:"Your current fee details"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:i.map(e=>(0,a.jsxs)("div",{className:"p-2 border rounded space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:(0,d.vv)(e.totalAmount)}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-sm ".concat("paid"===e.status?"bg-green-100 text-green-800":"overdue"===e.status?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),e.extraCurriculumFee>0&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Includes ",(0,d.vv)(e.extraCurriculumFee)," for extra activities"]})]},e.id))})})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"Extra Curriculum Activities"}),(0,a.jsx)(n.BT,{children:"Available activities and enrollments"})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:u.map(e=>(0,a.jsxs)("div",{className:"p-2 border rounded space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,d.vv)(e.fee)})]}),e.description&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]},e.id))})})]})]})]})}},8002:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>l,TN:()=>i});var a=s(5155),r=s(2115),n=s(1027),c=s(1567);let d=(0,n.F)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=r.forwardRef((e,t)=>{let{className:s,variant:r,...n}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,c.cn)(d({variant:r}),s),...n})});l.displayName="Alert",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})}).displayName="AlertTitle";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",s),...r})});i.displayName="AlertDescription"},9749:(e,t,s)=>{"use strict";s.d(t,{BT:()=>i,Wu:()=>o,ZB:()=>l,Zp:()=>c,aR:()=>d});var a=s(5155),r=s(2115),n=s(1567);let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});c.displayName="Card";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",s),...r})});d.displayName="CardHeader";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});l.displayName="CardTitle";let i=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",s),...r})});i.displayName="CardDescription";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",s),...r})});o.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter"},1567:(e,t,s)=>{"use strict";s.d(t,{cn:()=>n,vv:()=>c});var a=s(3463),r=s(9795);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}function c(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}}},e=>{var t=t=>e(e.s=t);e.O(0,[433,441,517,358],()=>t(8570)),_N_E=e.O()}]);